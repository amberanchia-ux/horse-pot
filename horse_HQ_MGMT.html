<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ç¸½éƒ¨ç®¡ç†èˆ‡æ¥­ç¸¾å³æ™‚çœ‹æ¿</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-100 p-4 md:p-8">
  <div class="max-w-7xl mx-auto">
    <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4">
      <div>
        <h1 class="text-3xl font-black text-slate-800 tracking-tight">é¦¬å¹´å£ºå…¨å°æˆ°æƒ…å®¤</h1>
        <p id="userInfo" class="text-slate-500 font-bold">èº«ä»½ï¼š<span class="text-blue-600">è§€å¯Ÿè€…æ¨¡å¼</span></p>
      </div>
      <button id="toggleRole" class="bg-blue-600 hover:bg-blue-700 text-white py-3 px-8 rounded-xl font-black shadow-lg transition-all active:scale-95">
        ğŸ”“ é–‹å•Ÿç®¡ç†æ¬Šé™
      </button>
    </div>

    <div class="grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8">
      <div class="bg-indigo-600 text-white p-6 rounded-2xl shadow-xl">
        <div class="text-xs opacity-70 mb-1 font-bold uppercase tracking-wider">å…¨å°ç¸½éŠ·é‡</div>
        <div id="totalSold" class="text-4xl font-black italic">0</div>
      </div>
      <div class="bg-emerald-500 text-white p-6 rounded-2xl shadow-xl">
        <div class="text-xs opacity-70 mb-1 font-bold uppercase tracking-wider">å‰©é¤˜å¯é¸</div>
        <div id="totalRemaining" class="text-4xl font-black italic">168</div>
      </div>
      <div class="bg-white p-6 rounded-2xl shadow-xl border-2 border-slate-200 col-span-2">
        <div class="text-sm text-slate-400 mb-3 font-bold uppercase tracking-wider flex justify-between">
          <span>åˆ†åº—å¯¦æ™‚æ¥­ç¸¾æ’è¡Œ</span>
          <span class="text-indigo-600">LIVE</span>
        </div>
        <div id="branchRanking" class="grid grid-cols-2 gap-x-6 gap-y-2 text-sm font-bold text-slate-700">
          è¼‰å…¥ä¸­...
        </div>
      </div>
    </div>

    <hr class="border-slate-300 mb-8">

    <div id="numberList" class="grid grid-cols-4 sm:grid-cols-6 md:grid-cols-8 lg:grid-cols-10 xl:grid-cols-12 gap-3"></div>
  </div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
    import { getAuth, signInAnonymously, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-auth.js";
    import { getFirestore, collection, doc, onSnapshot, runTransaction } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyCTHXe0izz5FYcKZf3m_WBV2nBnbREgOjA",
      authDomain: "horse-pot-lock.firebaseapp.com",
      projectId: "horse-pot-lock",
      messagingSenderId: "211854672738",
      appId: "1:211854672738:web:5